<h1 class="title">
  <i class="fa-solid fa-file-medical"></i>
  Consulta
</h1>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <fieldset>
    <legend>Dados</legend>

    <div class="flex-row">
      <div class="flex-column">
        <div class="form-group">
          <label for="doctor">Médico</label>
          <select formControlName="doctor" name="doctor" id="doctor">
            <option disabled selected value="">Selecionar médico</option>
          </select>
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('doctor')?.hasError('required') &&
              form.get('doctor')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>

      <div class="flex-column">
        <div class="form-group">
          <label for="patient">Selecionar paciente</label>
          <select formControlName="patient" name="patient" id="patient">
            <option disabled selected value="">Selecionar médico</option>
          </select>
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('patient')?.hasError('required') &&
              form.get('patient')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>
    </div>

    <div class="flex-row">
      <div class="flex-column">
        <div class="form-group">
          <label for="appointment-type">Tipo de Consulta</label>
          <select
            formControlName="appointmentType"
            name="appointment-type"
            id="appointment-type"
          >
            <option disabled selected value="">Selecione um tipo</option>
          </select>
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('appointmentType')?.hasError('required') &&
              form.get('appointmentType')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>

      <div class="flex-column">
        <div class="form-group">
          <label for="complaint">Queixa do paciente</label>
          <input
            formControlName="complaint"
            type="text"
            name="complaint"
            id="complaint"
            placeholder="Digite a queixa"
          />
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('complaint')?.hasError('required') &&
              form.get('complaint')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>

      <div class="flex-column">
        <div class="form-group">
          <label for="health-insurance">Convênio</label>
          <select
            formControlName="healthInsurance"
            name="health-insurance"
            id="health-insurance"
          >
            <option disabled selected value="">Selecione um plano</option>
          </select>
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('healthInsurance')?.hasError('required') &&
              form.get('healthInsurance')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>
    </div>

    <div class="flex-row">
      <div class="flex-column">
        <div class="form-group">
          <label for="date">Data</label>
          <input formControlName="date" type="date" name="date" id="date" />
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('date')?.hasError('required') &&
              form.get('date')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>

      <div class="flex-column">
        <div class="flex-column">
          <div class="form-group">
            <label for="hour">Horário</label>
            <input formControlName="hour" type="date" name="hour" id="hour" />
          </div>
          <div class="container-errors">
            <div
              class="error"
              *ngIf="
                form.get('hour')?.hasError('required') &&
                form.get('hour')?.touched
              "
            >
              <i class="fa-solid fa-circle-exclamation"></i>
              Obrigatório
            </div>
          </div>
        </div>
      </div>

      <div class="flex-column">
        <div class="form-group">
          <label for="materials">Materiais utilizados</label>
          <select formControlName="materials" name="materials" id="materials">
            <option disabled selected value="">Selecione um tipo</option>
          </select>
        </div>
        <div class="container-errors">
          <div
            class="error"
            *ngIf="
              form.get('materials')?.hasError('required') &&
              form.get('materials')?.touched
            "
          >
            <i class="fa-solid fa-circle-exclamation"></i>
            Obrigatório
          </div>
        </div>
      </div>
    </div>

    <div class="flex-row">
      <div class="flex-column">
        <div class="form-group">
          <label for="observations">Observações</label>
          <textarea
            formControlName="observations"
            name="observations"
            id="observations"
            placeholder="Digite a descrição"
          ></textarea>
        </div>
      </div>
    </div>
  </fieldset>

  <div class="container-form-buttons">
    <app-clear-button></app-clear-button>
    <app-register-button></app-register-button>
  </div>
</form>
